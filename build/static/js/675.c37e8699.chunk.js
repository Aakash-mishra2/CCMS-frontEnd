"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[675],{675:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var i=n(165),a=n(861),r=n(439),u=n(791),s=n(345),l=n(453),o=n(94),c=n(595),d=n(689),p=n(138),v=n(508),f=n(888),h=n(935),_=n(666),x=n(184);function T(){var e=(0,d.s0)(),t=(0,u.useContext)(h.V),n=(0,v.E)(),T=n.isLoading,C=n.sendRequest,E=n.error,y=n.clearError,V=(0,d.UO)().caseID,Z=(0,u.useState)(),S=(0,r.Z)(Z,2),g=S[0],m=S[1],A=(0,o.c)({new_status:{value:" ",isValid:!1},next_hearing:{value:" ",isValid:!1}},!1),D=(0,r.Z)(A,3),N=D[0],R=D[1],w=D[2];if((0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/admin/").concat(V));case 3:t=e.sent,m(t.foundCase),w({new_status:{value:t.foundCase.new_status,isValid:!0},next_hearing:{value:t.foundCase.next_hearing,isValid:!0}},!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e(),console.log("getCase request done...")}),[C,V,w]),!g)return(0,x.jsx)("div",{className:"center",children:(0,x.jsx)(p.Z,{children:(0,x.jsx)("h2",{children:"Could not find case!"})})});var I=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(a){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,C("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL,"/admin/update/").concat(V),"PATCH",JSON.stringify({new_status:N.inputs.new_status.value,next_hearing:N.inputs.next_hearing.value}),{"Content-type":"application/json"});case 4:e("/"+t.loginID+"/cases"),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:console.log("case update req sent. ");case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}();return(0,x.jsxs)(u.Fragment,{children:[(0,x.jsx)(f.Z,{error:E,onClear:y}),T&&(0,x.jsx)(_.Z,{asOverlay:!0}),(0,x.jsx)(f.Z,{error:E,onClear:y}),(0,x.jsxs)("form",{className:"case-form",onSubmit:I,children:[(0,x.jsx)(s.Z,{id:"new_status",type:"text",label:"Case Status:  ",element:"input",errorText:"This is a required Field.",validators:[(0,c.hg)()],onInput:R,initialValue:N.inputs.new_status.value,initialValidity:N.inputs.new_status.isValid}),(0,x.jsx)(s.Z,{id:"next_hearing",type:"text",label:" Next Hearing Date: ",element:"input",errorText:"This is a required Field. Please Enter Date DD-MM-YYYY format. ",validators:[(0,c.hg)()],onInput:R,initialValue:N.inputs.next_hearing.value,initialValidity:N.inputs.next_hearing.isValid}),(0,x.jsx)(l.Z,{type:"submit",disabled:!N.isValid,children:"Update"})]})]})}},345:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(439),a=n(413),r=n(791),u=n(595),s=n(184);function l(e,t){switch(t.type){case"ALTER":return(0,a.Z)((0,a.Z)({},e),{},{value:t.val,isValid:(0,u.Gu)(t.val,t.validators)});case"TOUCH":return(0,a.Z)((0,a.Z)({},e),{},{isTouched:!0});default:return e}}function o(e){var t=(0,r.useReducer)(l,{isValid:e.initialValid||!1,value:e.initialValue||"",isTouched:!1}),n=(0,i.Z)(t,2),a=n[0],u=n[1];function o(t){u({type:"ALTER",val:t.target.value,validators:e.validators})}function c(e){u({type:"TOUCH"})}var d=e.id,p=e.onInput,v=a.isValid,f=a.value;(0,r.useEffect)((function(){p(d,f,v)}),[d,v,f,p]);var h="input"===e.element?(0,s.jsx)("input",{type:e.type,placeholder:e.placeHolder,id:e.id,onChange:o,onBlur:c,value:a.value}):(0,s.jsx)("textarea",{type:e.type,placeholder:e.placeHolder,id:e.id,rows:e.rows||3,onChange:o,onBlur:c,value:a.value});return(0,s.jsxs)("div",{className:"form-control ".concat(!a.isValid&&a.isTouched&&"form-control--invalid"),children:[(0,s.jsx)("label",{htmlFor:e.id,children:e.label}),h,!a.isValid&&a.isTouched&&(0,s.jsx)("p",{children:e.errorText})]})}},94:function(e,t,n){n.d(t,{c:function(){return l}});var i=n(439),a=n(942),r=n(413),u=n(791),s=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var i in e.inputs)if(i===t.inputId){if(!e.inputs[i])continue;n=n&&t.isValid}else n=n&&e.inputs[i].isValid;return(0,r.Z)((0,r.Z)({},e),{},{inputs:(0,r.Z)((0,r.Z)({},e.inputs),{},(0,a.Z)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=function(e,t){var n=(0,u.useReducer)(s,{inputs:e,isValid:t}),a=(0,i.Z)(n,2),r=a[0],l=a[1];return[r,(0,u.useCallback)((function(e,t,n){l({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),(0,u.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},595:function(e,t,n){n.d(t,{CP:function(){return o},Gu:function(){return d},Ox:function(){return c},hg:function(){return l}});var i=n(762),a="REQUIRE",r="MINLENGTH",u="MAXLENGTH",s="EMAIL",l=function(){return{type:a}},o=function(e){return{type:r,val:e}},c=function(){return{type:s}},d=function(e,t){var n,l=!0,o=(0,i.Z)(t);try{for(o.s();!(n=o.n()).done;){var c=n.value;c.type===a&&(l=l&&e.trim().length>0),c.type===r&&(l=l&&e.trim().length>=c.val),c.type===u&&(l=l&&e.trim().length<=c.val),"MIN"===c.type&&(l=l&&+e>=c.val),"MAX"===c.type&&(l=l&&+e<=c.val),c.type===s&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(d){o.e(d)}finally{o.f()}return l}}}]);
//# sourceMappingURL=675.c37e8699.chunk.js.map